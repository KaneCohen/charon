/**
 * Simple javascript Date manipulation, parsing and printing library.
 * version 0.1.1
 * Kane Cohen [KaneCohen@gmail.com] | https://github.com/KaneCohen
 * @preserve
 */
!function(e){"use strict";function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(e){return Math.abs(Math.round(e))}function i(t,n,i){return t=new String(t),i==e&&(i="0"),new Array(n-t.length+1).join(i)+t}function r(t,n,i){return t=new String(t),i==e&&(i="0"),t+new Array(n-t.length+1).join(i)}function s(e,t,n){if(n||(n=1),e instanceof RegExp||(e=new RegExp(e)),!e.global){var i="g";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),e.sticky&&(i+="y"),e=new RegExp(e.source,i)}for(var r,s=[];r=e.exec(t);)s.push(r[n]);return s}function a(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function u(e,t,n){var i,r,s;return n||(n=!1),t=new Date(t),t.setHours(0,0,0),s=0===e.lang.week.weekStart?t.getDay():t.getDay()||7,n?(i=new Date(t.getFullYear(),0,1),t.setDate(t.getDate()+e.lang.week.yearStart-s),r=Math.floor((t-i+1)/6048e5)):(t.setDate(t.getDate()+e.lang.week.yearStart-s),i=new Date(t.getFullYear(),0,1),r=Math.ceil((t-i+1)/6048e5)),r}function o(e,t){return(t.getDay()+7-e.lang.week.weekStart)%7}function h(e,t){var n=t.getDate(),i=t.getFullYear(),r=new Date(i,0,1,12,0,0),s=new Date(i,t.getMonth(),n,12,0,0);return Math.round((s-r)/864e5)+1}function d(e,t,n){return t instanceof Date?new Date(t):t instanceof c?new Date(t.toDate()):"string"==typeof t?f(e,t,n):"number"==typeof t?new Date(t):new Date}function f(e,t,n){var i,r;if("undefined"==typeof n){if(i=f(e,t,g))return i;if(i=new Date(Date.parse(t)))return new Date(i.getTime()+1e3*60*i.getTimezoneOffset())}var u,o,h,d,c,l=s(w,n),M=0,p=null;if(!l)return null;i=new Date,a(i);for(r in l)if(d=l[r],u=t.substr(M),h=y[d[0]]||y.digits,c=u.match(h),c&&(o=c[0],M+=u.indexOf(o)+String(o).length,"Z"==d[0]&&(p=parseInt(o.match(/\d+/g).join(""),10),p=60*parseInt(parseInt(p,10)/100,10)+(parseInt(p,10)/100-parseInt(parseInt(p,10)/100,10)),p="-"==o[0]?-p:p),"undefined"!=typeof m[d[0]])){var D="set"+m[d[0]];"setMonth"==D&&o--,i[D](o)}return null!==p?new Date(i.getTime()-(1e3*60*i.getTimezoneOffset()+1e3*60*p)):e.utcMode?new Date(i.getTime()-1e3*60*i.getTimezoneOffset()):i}function c(e,t){this._d=d(this,e,t)}var l="undefined"!=typeof module&&module.exports,m={S:"Milliseconds",s:"Seconds",m:"Minutes",H:"Hours",h:"Hours",D:"Date",M:"Month",Y:"FullYear"},y={Z:"(\\+|-)[0-9:]{4,5}",ZZ:"(\\+|-)[0-9:]{4,5}",digits:"\\d+"},w=new RegExp("{(\\w+)}"),g="{YYYY}-{MM}-{DD}T{hh}:{mm}:{ss}{ZZ}";c.prototype={_d:null,utcMode:!1,maxDiff:2592e3,msfactor:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},unitAliases:{ms:"millisecond",seconds:"second",s:"second",minutes:"minute",m:"minute",hours:"hours",h:"hour",days:"day",d:"day",weeks:"week",w:"week",months:"month",M:"month",years:"year",y:"year",Y:"year"},lang:{relativeTime:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"just now",minute:"{prefix} [a minute] {suffix}",minutes:"{prefix} {diff} [minutes] {suffix}",hour:"{prefix} [an hour] {suffix}",hours:"{prefix} {diff} [hours] {suffix}",day:"{prefix} [a day] {suffix}",days:"{prefix} {diff} [days] {suffix}",month:"{prefix} [a month] {suffix}",months:"{prefix} [months] {diff}",year:"{prefix} [a year] {suffix}",years:"{prefix} {diff} [years] {suffix}",wordDelimiter:" ",format:function(e,t){return e.year()===t.year()?"{D} {MMMM}":"{D} {MMMM} {YYYY}"}},pluralizer:function(e){return 1==e?0:1},calendar:{sameElse:"{D} {MMMM} {YYYY}",sameDay:"Today at {hh}:{mm}",nextDay:"Tomorrow at {hh}:{mm}",nextWeek:"{wwww} at {hh}:{mm}",lastDay:"Yesterday at {hh}:{mm}",lastWeek:"Last {wwww} at {hh}:{mm}"},week:{weekStart:0,yearStart:4},weekdays:function(e,t,n){n||(n=!1);var i={nominative:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Satruday","Sunday"],accusative:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Satruday","Sunday"],brief:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"]};return n?i.brief[e]:i.nominative[e]},months:function(e,t,n){n||(n=!1);var i={nominative:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],accusative:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],brief:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};return n?i.brief[e]:i.nominative[e]}},fromNow:function(e,t){e="undefined"==typeof e?new c:new c(e);var n=this.diff(e,"all"),i=n.relative,r=this.lang.relativeTime,s=n.strict.s<0?!0:!1;return i.s<this.maxDiff?i.s<45&&this.humanize(r.seconds,i.s,s)||i.s<90&&this.humanize(r.minute,1,s)||i.i<45&&this.humanize(r.minutes,i.i,s)||i.i<90&&this.humanize(r.hour,1,s)||i.h<24&&this.humanize(r.hours,i.h,s)||i.h<42&&this.humanize(r.day,1,s)||i.d<31&&this.humanize(r.days,i.d,s)||i.m<12&&this.humanize(r.months,i.m,s)||i.y<1.5&&this.humanize(r.year,i.y,s)||i.y>1.5&&this.humanize(r.years,i.y,s)||this.humanize(r.years,i.y,s):(t||(t=r.format),"function"==typeof t&&(t=t(this,e)),this.format(t))},diff:function(e,t,i){"undefined"==typeof i&&(i=!0);var r=d(this,e),s=(this._d.getTime()-r.getTime())/1e3,a=s,u=s,o=u/60,h=o/60,f=h/24;switch(t){case"seconds":a=u;break;case"minutes":a=u/60;break;case"hours":a=o/60;break;case"days":a=h/24;break;case"months":a=f/30;break;case"years":a=f/365;break;case"all":return{relative:{s:n(s),i:n(u/60),h:n(o/60),d:n(h/24),m:n(f/30),y:n(f/365)},strict:{s:s,i:u/60,h:o/60,d:h/24,m:f/30,y:f/365}};default:a=u}return i?Math.abs(Math.round(a)):a},humanize:function(e,t,n){var i=this.lang.relativeTime;e=this.choice(e,t);var r=n?i.prefixAgo:i.prefixFromNow,s=n?i.suffixAgo:i.suffixFromNow,a=this.format(e.replace(/{diff}/i,t).replace(/{prefix}/i,r||"").replace(/{suffix}/i,s||""));return a.replace(/^\s+|\s+$/g,"")},choice:function(e,t){var n=e.match(/\[(.+)\]/);if(!n)return e;var i=n[1].split("|"),r=i.length>1?i[this.lang.pluralizer(t)]:i[0];return e=e.replace(n[0],r)},format:function(e,t){e||(e="{YYYY}-{MM}-{DD}T{hh}:{mm}:{ss}{Z}"),t||(t=this._d),this.utcMode&&(t=new c(t).add(1e3*60*this._d.getTimezoneOffset(),"ms").toDate());var n=t.getMilliseconds(),s=t.getSeconds(),a=t.getMinutes(),h=t.getHours(),d=o(this,t),f=String(this.dayOfYear()),l=String(t.getDate()),m=String(u(this,t)),y=String(u(this,t,!0)),w=String(t.getMonth()+1),g=String(t.getFullYear()),M=this.utcMode?0:t.getTimezoneOffset(),p=h>11?"PM":"AM",D=h>11?"0"+h%12:"0"+h;D=String(0===D?12:D);var v=M>0?"-":"+";v+=Math.abs(M)<6e3?"0":"",v=r(v+Math.abs(M/60),5);var x,S,Y=this.lang,_={S:n,SS:i(n,3),s:s,ss:i(s,2),m:a,mm:i(a,2),H:D,HH:D.slice(D.length-2),h:h,hh:i(h,2),a:p.toLowerCase(),A:p,D:l,DD:i(l,2),DDD:f,DDDD:i(f,3),M:w,MM:i(w,2),MMM:Y.months(w,e,!0),MMMM:Y.months(w,e),w:d,ww:i(d,2),www:Y.weekdays(d,e,!0),wwww:Y.weekdays(d,e),W:m,WW:i(m,2),WWW:y,WWWW:i(y,2),Y:parseInt(g.substring(2),10),YY:g.substring(2),YYYY:g,Z:[v.slice(0,3),":",v.slice(3)].join(""),ZZ:v};for(var b in _)x=_[b],S=new RegExp("{"+b+"}","g"),"function"==typeof e&&(e=e(x)||e),"string"==typeof e&&(e=e.replace(S,x));return e},calendar:function(){var e=this.diff((new c).startOf("day"),"days",!1),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang.calendar[t])},startOf:function(e){switch(e){case"year":this._d.setMonth(0);case"month":this._d.setDate(1);case"week":case"day":this._d.setHours(0);case"hour":this._d.setMinutes(0);case"minute":this._d.setSeconds(0);case"second":this._d.setMilliseconds(0)}return"week"===e&&this.weekday(0),this},endOf:function(e){return this.startOf(e).add(1,e).sub(1,"ms")},add:function(e,t){return this._d.setMilliseconds(this._d.getMilliseconds()+this.duration(e,t)),this},sub:function(e,t){return this._d.setMilliseconds(this._d.getMilliseconds()-this.duration(e,t)),this},duration:function(e,t){return e*(this.msfactor[t]||this.msfactor[this.unitAliases[t]])},isValid:function(){return!!this._d},parse:function(e,t){return this._d=d(this,e,t),this},now:function(){return this._d=new Date,this},timestamp:function(e){var t=this._d.getTime();return null==e?t:this.add(e-t,"ms")},unix:function(e){return null==e?Math.floor(this.timestamp()/1e3):this.timestamp(1e3*e)},milliseconds:function(e){var t=this._d.getMilliseconds();return null==e?t:this.add(e-t,"ms")},ms:function(e){return this.milliseconds(e)},seconds:function(e){var t=this._d.getSeconds();return null==e?t:this.add(e-t,"s")},minutes:function(e){var t=this._d.getMinutes();return null==e?t:this.add(e-t,"m")},hours:function(e){var t=this._d.getHours();return null==e?t:this.add(e-t,"h")},day:function(e){var t=this._d.getDay();return null==e?t:this.add(e-t,"d")},date:function(e){var t=this._d.getDate();if(null==e)return t;var n=Math.min(this.date(),n(this.year(),e)),i=n-t;return i>=0?this._d.setDate(e):this.endOf("month").add(i,"d"),this},week:function(e,t){var n=u(this,this._d,t);return null==e?n:this.add(7*(e-n),"d")},weekday:function(e){var t=o(this,this._d);return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},dayOfYear:function(e){var t=h(this,this._d);return null==e?t:this.add(e-t,"d")},month:function(e){var t;return null==e?this._d.getMonth():(t=Math.min(this.date(),daysInMonth(this.year(),e)),this._d.setMonth(e,t),this)},year:function(e){var t=this._d.getFullYear();return null==e?t:this.add(e-t,"y")},toDate:function(){return this._d},yesterday:function(){return this.sub(1,"d").startOf("day")},today:function(){return this.startOf("day")},tomorrow:function(){return this.add(1,"d").startOf("day")},utc:function(){return this.utcMode=!0,this},local:function(){return this.utcMode=!1,this},clone:function(){return new c(this._d)}},t(c,{now:function(){return new c},yesterday:function(){return(new c).yesterday()},today:function(){return(new c).today()},tomorrow:function(){return(new c).tomorrow()},utc:function(e,t){return(new c).utc().parse(e,t)}}),l?module.exports=c:"function"==typeof define&&define.amd&&define("charon",function(){return c})}.call(this);